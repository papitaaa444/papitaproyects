<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Para mi NiÃ±o Especial â¤ï¸</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;600&display=swap');
        :root { --rosa: #FFB7C5; --rosa-fuerte: #D44D5C; --verde: #95D5B2; --bg: #FFF5F7; --oro: #FFD700; --celeste: #A2D2FF; }
        * { box-sizing: border-box; touch-action: none; -webkit-tap-highlight-color: transparent; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: var(--bg); font-family: 'Quicksand', sans-serif; overflow: hidden; }
        
        /* Lluvia mÃ¡gica constante */
        .lluvia-magica { position: fixed; top: -50px; pointer-events: none; z-index: 999; animation: caer linear forwards; font-size: 20px; }
        @keyframes caer { to { transform: translateY(110vh) rotate(360deg); opacity: 0; } }

        .pantalla { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; padding: 20px; text-align: center; z-index: 10; overflow-y: auto; background: var(--bg); }
        .card { background: white; padding: 20px; border-radius: 25px; border: 3px solid var(--rosa); margin: 10px auto; box-shadow: 0 8px 20px rgba(255,183,197,0.4); }
        .btn { padding: 15px; border: none; border-radius: 50px; font-weight: bold; cursor: pointer; background: linear-gradient(135deg, var(--rosa), var(--rosa-fuerte)); color: white; margin: 8px auto; width: 85%; display: block; font-size: 16px; box-shadow: 0 4px 15px rgba(212,77,92,0.3); transition: 0.2s; }
        .btn:active { transform: scale(0.95); }

        /* Tulipanes ArtÃ­sticos Mejorados */
        .jardin { display: flex; justify-content: center; gap: 15px; align-items: flex-end; height: 160px; margin-top: 15px; padding-bottom: 10px; }
        .tulipan-c { position: relative; width: 40px; display: flex; flex-direction: column; align-items: center; }
        .flor { width: 35px; height: 45px; background: #ff8fab; border-radius: 15px 15px 5px 5px; position: relative; box-shadow: inset 0 -5px 10px rgba(0,0,0,0.1); }
        .flor::before { content: ''; position: absolute; width: 15px; height: 35px; background: inherit; border-radius: 10px; left: 10px; top: -8px; border-left: 1px solid rgba(255,255,255,0.4); }
        .tallo { width: 5px; height: 70px; background: var(--verde); border-radius: 3px; }
        .hoja { width: 18px; height: 30px; background: var(--verde); border-radius: 0 20px 0 20px; position: absolute; bottom: 20px; left: 15px; transform: rotate(-15deg); }

        /* Popups de Color */
        #msgColor { position: fixed; top: 25%; left: 50%; transform: translate(-50%, -50%); background: white; border: 3px solid var(--rosa-fuerte); padding: 20px; border-radius: 20px; z-index: 2000; display: none; font-weight: bold; animation: pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes pop { from { transform: translate(-50%, -50%) scale(0.5); } }

        canvas { border-radius: 20px; background: #fff; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
    </style>
</head>
<body>

<div id="msgColor"></div>

<section id="s1" class="pantalla" style="display:block;">
    <div style="margin-top:20%;">
        <h1 style="font-family:'Dancing Script', cursive; color:var(--rosa-fuerte); font-size:3em;">Hola, mi niÃ±o â¤ï¸</h1>
        <div class="card"><p>"He preparado un mundo lleno de detalles para ti. Â¡No te saltes nada!"</p></div>
        <div style="font-size:100px;">ğŸ¤´ğŸ»âœ¨</div>
        <button class="btn" onclick="nav('s2')">Comenzar Magia âœ¨</button>
    </div>
</section>

<section id="s2" class="pantalla">
    <h2>Pinta mi corazÃ³n â¤ï¸</h2>
    <p>Desliza hasta que estÃ© llenito</p>
    <canvas id="cvRelleno"></canvas>
    <div id="nextR" style="display:none;"><button class="btn" onclick="nav('s3')">Â¡QuedÃ³ perfecto! â¡ï¸</button></div>
</section>

<section id="s3" class="pantalla" style="background:#0b132b; color:white;">
    <h2 style="color:var(--celeste)">ğŸŒŒ El Principito</h2>
    <div class="card" style="background:rgba(255,255,255,0.1); color:white;"><p id="txtP" style="font-size:1.1em;"></p></div>
    <div id="optsP"></div>
</section>

<section id="s4" class="pantalla">
    <h2>Atrapa 10 Corazones ğŸ’—</h2>
    <p>Â¡Evita los rojos o perderÃ¡s!</p>
    <canvas id="cvCorazones"></canvas>
    <h2 id="score" style="color:var(--rosa-fuerte)">Puntos: 0 / 10</h2>
    <div id="nextC" style="display:none;"><button class="btn" onclick="nav('s5')">Â¡Siguiente nivel! â¡ï¸</button></div>
</section>

<section id="s5" class="pantalla">
    <h2>Adivina mi color de hoy ğŸ¨</h2>
    <div class="card"><p id="pistaC">Toca un color para ver su mensaje...</p></div>
    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; padding:10px;">
        <div onclick="clickColor('Azul')" style="background:#8ECAE6; height:80px; border-radius:15px; border:3px solid white;"></div>
        <div onclick="clickColor('Rojo')" style="background:#D44D5C; height:80px; border-radius:15px; border:3px solid white;"></div>
        <div onclick="clickColor('Verde')" style="background:#95D5B2; height:80px; border-radius:15px; border:3px solid white;"></div>
        <div onclick="clickColor('Lila')" style="background:#BDB2FF; height:80px; border-radius:15px; border:3px solid white;"></div>
    </div>
    <div id="nextColor" style="display:none; margin-top:20px;"><button class="btn" onclick="nav('s6')">Â¡Es el azul! Continuar âœ¨</button></div>
</section>

<section id="s6" class="pantalla">
    <h2>Trivia de SabidurÃ­a ğŸ†</h2>
    <div class="card"><p id="txtT" style="font-weight:bold; font-size:1.2em;"></p></div>
    <div id="optsT"></div>
</section>

<section id="s7" class="pantalla">
    <h2>Laberinto del Amor ğŸŒ€</h2>
    <p>Si tocas las paredes, vuelves al inicio ğŸ‘¦ğŸ»</p>
    <canvas id="cvLaberinto"></canvas>
    <button class="btn" onclick="initL()" style="width:50%; font-size:12px;">Reiniciar PosiciÃ³n</button>
</section>

<section id="s8" class="pantalla" style="background:#000814; color:white;">
    <h2>Cuida nuestra Estrella â­</h2>
    <canvas id="cvCielo"></canvas>
    <div id="stCielo" style="font-size:20px; color:var(--oro);">EnergÃ­a Estelar: 0%</div>
</section>

<section id="s9" class="pantalla">
    <h2 style="font-family:'Dancing Script'; color:var(--rosa-fuerte);">Tu JardÃ­n de Tulipanes ğŸŒ·</h2>
    <div class="card" style="border:none; box-shadow:none;"><p id="txtTulip" style="font-style:italic; font-size:1.2em; color:var(--rosa-fuerte);"></p></div>
    <div class="jardin">
        <div class="tulipan-c"><div class="flor"></div><div class="tallo"></div><div class="hoja"></div></div>
        <div class="tulipan-c"><div class="flor" style="background:#fb6f92;"></div><div class="tallo"></div><div class="hoja"></div></div>
        <div class="tulipan-c"><div class="flor" style="background:#ffb3c1;"></div><div class="tallo"></div><div class="hoja"></div></div>
        <div class="tulipan-c"><div class="flor" style="background:#ffc2d1;"></div><div class="tallo"></div><div class="hoja"></div></div>
    </div>
    <button class="btn" onclick="nav('s10')">Adivina los Cantantes ğŸ¤</button>
</section>

<section id="s10" class="pantalla">
    <h2>Music Challenge ğŸ¤</h2>
    <div class="card">
        <p id="artS" style="font-weight:bold; color:var(--rosa-fuerte);"></p>
        <p id="letS" style="font-style:italic; margin-top:10px;"></p>
    </div>
    <div id="optsS"></div>
</section>

<section id="s11" class="pantalla" style="background:#000; color:white;">
    <h2 style="color:var(--oro)">Â¡ERES INCREÃBLE! ğŸ‡</h2>
    <canvas id="cvFuegos"></canvas>
    <div class="card" style="background:rgba(20,20,20,0.9); border:2px solid var(--oro); color:white; text-align:left;">
        <p style="text-align:center; color:var(--oro); font-weight:bold;">ğŸ¶ Canciones para mi niÃ±o:</p>
        1. The Boy Is Mine - Ariana Grande<br>
        2. Lo Que Siento - Cuco<br>
        3. Te AmarÃ© - Silvio RodrÃ­guez<br>
        4. Obsesionado - Farruko (ft. Alexio)<br>
        5. Die With A Smile - Lady Gaga & Bruno Mars
    </div>
    <button class="btn" onclick="nav('s12')">Leer mi Carta ğŸ’Œ</button>
</section>

<section id="s12" class="pantalla">
    <div class="card" style="text-align:justify; line-height:1.7; background:#fffaf0; border:2px solid #d4a373;">
        <h3 style="color:var(--rosa-fuerte); text-align:center; font-family:'Dancing Script'; font-size:2em;">Para mi niÃ±o...</h3>
        <p>QuizÃ¡ te demuestro muy poco y quizÃ¡ esto no sea nada o, si lo es, no sea suficiente. No es que no quiera expresar o mostrar todo lo que siento... Me haces feliz y quiero poder hacerte igual de feliz. Gracias por estar y por aguantarme. SÃ© que me pongo tonta y sigo mejorando por ti para ser y poder entregarte lo mejor. Â¡Muakkkk! â¤ï¸</p>
        <div style="text-align:center; font-size:40px;">ğŸ¤´ğŸ»ğŸŒ·ğŸŒ¹</div>
    </div>
    <button class="btn" onclick="location.reload()">Reiniciar â¤ï¸</button>
</section>

<script>
// Lluvia mÃ¡gica global
function spark() {
    const s = document.createElement('div');
    s.innerHTML = ['ğŸŒ¸','ğŸŒ·','ğŸ’–','âœ¨','ğŸŒ¹'][Math.floor(Math.random()*5)];
    s.className = 'lluvia-magica';
    s.style.left = Math.random() * 100 + 'vw';
    s.style.animationDuration = (Math.random()*3 + 2) + 's';
    document.body.appendChild(s);
    setTimeout(() => s.remove(), 5000);
}
setInterval(spark, 300);

function nav(id) {
    document.querySelectorAll('.pantalla').forEach(p => p.style.display = 'none');
    document.getElementById(id).style.display = 'block';
    if(id==='s2') initR(); if(id==='s3') initP(); if(id==='s4') initC();
    if(id==='s6') initT(); if(id==='s7') initL(); if(id==='s8') initSky();
    if(id==='s9') initTulip(); if(id==='s10') initS(); if(id==='s11') initF();
}

// 1. RELLENO
function initR(){
    const c=document.getElementById('cvRelleno'); c.width=280; c.height=280; const ctx=c.getContext('2d'); let p=0;
    function d(){
        ctx.clearRect(0,0,280,280); ctx.save(); ctx.translate(140,140); ctx.beginPath();
        for(let t=0;t<Math.PI*2;t+=0.01){ let x=9*16*Math.pow(Math.sin(t),3); let y=-9*(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t)); ctx.lineTo(x,y); }
        ctx.fillStyle="#FFB7C5"; ctx.fill(); ctx.clip(); ctx.fillRect(-140,140-(p*2.8),280,280); ctx.restore();
    }
    c.ontouchmove=(e)=>{e.preventDefault(); p+=1.5; d(); if(p>=100) document.getElementById('nextR').style.display='block';}; d();
}

// 2. PRINCIPITO
let pIdx=0;
const pF=[
    {q:"Lo esencial es invisible...", a:"a los ojos"},
    {q:"Fue el tiempo que pasaste con tu rosa...", a:"lo que la hizo importante"},
    {q:"Si vienes a las cuatro de la tarde...", a:"empezarÃ© a ser feliz desde las tres"}
];
function initP(){
    const f=pF[pIdx]; document.getElementById('txtP').innerText=`"${f.q}"`;
    let o=[f.a, "al alma", "al corazÃ³n"].sort(()=>Math.random()-0.5);
    document.getElementById('optsP').innerHTML=o.map(n=>`<button class="btn" onclick="checkP('${n}')">${n}</button>`).join('');
}
window.checkP=(n)=>{if(n===pF[pIdx].a){pIdx++; if(pIdx<pF.length) initP(); else nav('s4');}};

// 3. COLOR (POPUP FRASES)
window.clickColor = (c) => {
    const pop = document.getElementById('msgColor');
    if(c==='Azul'){
        pop.innerHTML = "Â¡Correcto! El azul de la paz que me das ğŸ’™";
        pop.style.display = 'block'; document.getElementById('nextColor').style.display = 'block';
    } else {
        pop.innerHTML = "Â¡Mmm no! ğŸŒ¸<br>Hoy mi corazÃ³n es Rosado...";
        pop.style.display = 'block';
        setTimeout(() => { pop.style.display = 'none'; }, 2000);
    }
}

// 4. TRIVIA COHERENTE
let tIdx=0;
const tF=[
    {q:"Â¿De quÃ© color es la manzana mÃ¡s comÃºn?", a:"Roja", o:["Azul", "Morada"]},
    {q:"Â¿QuÃ© animal tiene el cuello muy largo?", a:"Jirafa", o:["Perro", "Elefante"]},
    {q:"Â¿QuiÃ©n es el dueÃ±o de mi corazÃ³n?", a:"Yo", o:["TÃº", "El vecino"]}
];
function initT(){
    const t=tF[tIdx]; document.getElementById('txtT').innerText=t.q;
    let o=[t.a, ...t.o].sort(()=>Math.random()-0.5);
    document.getElementById('optsT').innerHTML=o.map(n=>`<button class="btn" onclick="checkT('${n}')">${n}</button>`).join('');
}
window.checkT=(n)=>{if(n===tF[tIdx].a){tIdx++; if(tIdx<tF.length) initT(); else nav('s7');}};

// 5. LABERINTO (SI PIERDES, REINICIAS)
function initL(){
    const c=document.getElementById('cvLaberinto'); c.width=300; c.height=300; const ctx=c.getContext('2d');
    let x=25, y=25; const m=[{x:0,y:70,w:240,h:15}, {x:60,y:140,w:240,h:15}, {x:0,y:210,w:200,h:15}];
    function draw(){ ctx.clearRect(0,0,300,300); ctx.fillStyle="#D44D5C"; m.forEach(r=>ctx.fillRect(r.x,r.y,r.w,r.h)); ctx.font="30px Arial"; ctx.fillText("ğŸ€", 260,280); ctx.fillText("ğŸ‘¦ğŸ»", x-15, y+10); }
    c.ontouchmove=(e)=>{
        e.preventDefault(); const r=c.getBoundingClientRect(); let nx=e.touches[0].clientX-r.left, ny=e.touches[0].clientY-r.top;
        if(m.some(r=>nx>r.x && nx<r.x+r.w && ny>r.y-5 && ny<r.y+r.h)){ x=25; y=25; } else { x=nx; y=ny; }
        if(x>250 && y>250) nav('s8'); draw();
    }; draw();
}

// 6. CIELO â­
function initSky(){
    const c=document.getElementById('cvCielo'); c.width=320; c.height=320; const ctx=c.getContext('2d');
    let x=160, ch=0, blts=[], act=true;
    c.ontouchmove=(e)=>{e.preventDefault(); x=e.touches[0].clientX-c.getBoundingClientRect().left;};
    function loop(){
        if(!act) return; ctx.fillStyle="#000814"; ctx.fillRect(0,0,320,320);
        ctx.shadowBlur=20; ctx.shadowColor="gold"; ctx.font="45px Arial"; ctx.fillText("â­", x-22, 290); ctx.shadowBlur=0;
        if(Math.random()<0.1) blts.push({x:Math.random()*290, y:0});
        blts.forEach(b=>{b.y+=6; ctx.font="25px Arial"; ctx.fillText("âš¡", b.x, b.y); if(Math.hypot(b.x-x, b.y-290)<40){ch=0; blts=[];}});
        ch+=0.4; document.getElementById('stCielo').innerText=`EnergÃ­a Estelar: ${Math.floor(ch)}%`;
        if(ch>=100){act=false; nav('s9');} else requestAnimationFrame(loop);
    } loop();
}

// 7. TULIPANES
function initTulip(){
    const f=["Eres mi flor favorita", "Contigo todo es mÃ¡s lindo", "Te amo con todo mi ser", "Mi niÃ±o hermoso"];
    let i=0; setInterval(()=>{document.getElementById('txtTulip').innerText=f[i%f.length]; i++;}, 2500);
}

// 8. MUSIC CHALLENGE (5 CANCIONES)
let sIdx=0;
const sF=[
    {a:"Ariana Grande - 34+35", l:"Can you stay up all night?...", r:"til the daylight"},
    {a:"Cris MJ - Gata Only", l:"Mami no me digas que no...", r:"si yo sÃ©"},
    {a:"Bad Bunny - TitÃ­", l:"TitÃ­ me preguntÃ³ si tengo...", r:"muchas novias"},
    {a:"Michael Jackson - Billie Jean", l:"She says I am the one...", r:"but the kid is not my son"},
    {a:"ManÃ¡ - Labios Compartidos", l:"Amor mutante...", r:"amigos con derecho y libertad"}
];
function initS(){
    const s=sF[sIdx]; document.getElementById('artS').innerText=s.a; document.getElementById('letS').innerText=`"${s.l}"`;
    let o=[s.r, "forever", "nobody"].sort(()=>Math.random()-0.5);
    document.getElementById('optsS').innerHTML=o.map(n=>`<button class="btn" onclick="checkS('${n}')">${n}</button>`).join('');
}
window.checkS=(n)=>{if(n===sF[sIdx].r){sIdx++; if(sIdx<sF.length) initS(); else nav('s11');}};

// 9. FUEGOS
function initF(){
    const c=document.getElementById('cvFuegos'); c.width=300; c.height=200; const ctx=c.getContext('2d');
    let p=[]; function loop(){
        ctx.fillStyle="rgba(0,0,0,0.2)"; ctx.fillRect(0,0,300,200);
        if(Math.random()<0.12){ let x=Math.random()*300, y=Math.random()*150, cl=`hsl(${Math.random()*360},100%,70%)`; for(let i=0;i<25;i++) p.push({x,y,vx:Math.random()*5-2.5,vy:Math.random()*5-2.5,l:40,cl});}
        p.forEach((it,i)=>{it.x+=it.vx; it.y+=it.vy; it.vy+=0.05; it.l--; ctx.fillStyle=it.cl; ctx.fillRect(it.x,it.y,2.5,2.5); if(it.l<=0)p.splice(i,1);});
        requestAnimationFrame(loop);
    } loop();
}
</script>
</body>
</html>
