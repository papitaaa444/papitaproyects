<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Para mi NiÃ±o Favorito ğŸŒ¸</title>
    <style>
        :root { --rosa: #FFB7C5; --rosa-fuerte: #D44D5C; --verde: #76B041; --bg: #FFF5F7; --oro: #FFD700; --azul: #8ECAE6; }
        * { box-sizing: border-box; touch-action: none; -webkit-tap-highlight-color: transparent; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: var(--bg); font-family: 'Georgia', serif; overflow: hidden; }
        
        #capa-magica { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; }
        .pantalla { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; padding: 20px; text-align: center; z-index: 10; overflow-y: auto; background: var(--bg); }
        .card { background: white; padding: 25px; border-radius: 25px; border: 2px solid var(--rosa); margin: 15px auto; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
        .btn { padding: 18px; border: none; border-radius: 50px; font-weight: bold; cursor: pointer; background: linear-gradient(to right, var(--rosa), var(--rosa-fuerte)); color: white; margin: 12px auto; width: 85%; display: block; font-size: 16px; box-shadow: 0 4px 10px rgba(212,77,92,0.3); }
        
        /* Tulipanes DiseÃ±o Realista */
        .jardin { display: flex; justify-content: center; gap: 15px; align-items: flex-end; height: 180px; margin-top: 20px; }
        .tulipan { position: relative; width: 40px; }
        .flor { width: 40px; height: 50px; border-radius: 20px 20px 10px 10px; margin: 0 auto; position: relative; z-index: 2; }
        .tallo { width: 6px; height: 100px; background: var(--verde); margin: -5px auto 0; position: relative; z-index: 1; }
        .hoja { width: 25px; height: 45px; background: var(--verde); border-radius: 0 50px 0 50px; position: absolute; bottom: 30px; left: 20px; transform: rotate(-20deg); }

        .petalo-caida { position: fixed; pointer-events: none; z-index: 1000; animation: caida 3s linear forwards; }
        @keyframes caida { 0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }

        /* Laberinto */
        #cvLaberinto { background: #fff; border: 4px solid var(--rosa-fuerte); border-radius: 15px; cursor: crosshair; }
        
        /* Lista de Canciones */
        .dedicatoria-box { background: rgba(0,0,0,0.8); color: white; padding: 20px; border-radius: 20px; border: 2px solid var(--oro); text-align: left; font-size: 14px; margin: 10px; line-height: 1.6; }
    </style>
</head>
<body>

<canvas id="capa-magica"></canvas>

<section id="s1" class="pantalla" style="display:block;">
    <div style="margin-top:25%;">
        <h1 style="color:var(--rosa-fuerte); font-size: 2.2em;">Para mi NiÃ±o â¤ï¸</h1>
        <div class="card"><p>"Eres lo mÃ¡s especial que tengo. He creado este pequeÃ±o universo para ti..."</p></div>
        <div style="font-size:80px; margin: 20px;">ğŸ¤´ğŸ»âœ¨ğŸŒ·</div>
        <button class="btn" onclick="navegar('s2')">Empezar el viaje</button>
    </div>
</section>

<section id="s2" class="pantalla">
    <h2>Pinta mi corazÃ³n â¤ï¸</h2>
    <p>Desliza tu dedo para llenarlo de amor</p>
    <canvas id="cvRelleno"></canvas>
    <div id="btnR" style="display:none;"><button class="btn" onclick="navegar('s3')">Â¡EstÃ¡ lleno de ti! â¡ï¸</button></div>
</section>

<section id="s3" class="pantalla" style="background:#0b132b; color:white;">
    <h2 style="color:var(--azul)">ğŸŒŒ El Principito</h2>
    <div class="card" style="background:rgba(255,255,255,0.1); color:white; border-color:var(--azul);">
        <p id="txtP" style="font-size:1.1em; line-height:1.5;"></p>
    </div>
    <div id="optsP"></div>
</section>

<section id="s4" class="pantalla">
    <h2>Atrapa 10 Corazones Rosas ğŸ’—</h2>
    <p>Â¡No toques los rojos â¤ï¸!</p>
    <canvas id="cvCorazones"></canvas>
    <h2 id="puntos" style="color:var(--rosa-fuerte)">ğŸ’— Recolectados: 0 / 10</h2>
    <div id="btnC" style="display:none;"><button class="btn" onclick="navegar('s5')">Â¡Eres el mejor! â¡ï¸</button></div>
</section>

<section id="s5" class="pantalla">
    <h2>Adivina mi color de hoy ğŸ¨</h2>
    <div class="card"><p>Pista: Es el color de los sueÃ±os, la calma y el cielo infinito...</p></div>
    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; padding:10px;">
        <div onclick="checkColor('Azul')" style="background:var(--azul); height:100px; border-radius:20px; border:3px solid white; box-shadow: 0 5px 15px rgba(0,0,0,0.1);"></div>
        <div onclick="alert('Casi... pero no')" style="background:#FF99AC; height:100px; border-radius:20px;"></div>
        <div onclick="alert('Intenta de nuevo')" style="background:#BDB2FF; height:100px; border-radius:20px;"></div>
        <div onclick="alert('Nop!')" style="background:#90BE6D; height:100px; border-radius:20px;"></div>
    </div>
</section>

<section id="s6" class="pantalla">
    <h2>Trivia para mi NiÃ±o ğŸ†</h2>
    <div class="card"><p id="txtT" style="font-size:1.2em; font-weight:bold;"></p></div>
    <div id="optsT"></div>
</section>

<section id="s7" class="pantalla">
    <h2>Laberinto del Amor ğŸŒ€</h2>
    <p>Lleva al ğŸ‘¦ğŸ» hasta ğŸ€ (Â¡No toques los muros!)</p>
    <canvas id="cvLaberinto"></canvas>
    <button class="btn" style="width:50%; margin-top:20px;" onclick="initLaberinto()">Reiniciar</button>
</section>

<section id="s8" class="pantalla" style="background:#001d3d; color:white;">
    <h2 style="color:var(--rosa)">Â¡Protege nuestra estrella! â­</h2>
    <canvas id="cvCielo"></canvas>
    <div id="statCielo" style="font-size:22px; margin-top:10px;">Carga de Amor: 0%</div>
</section>

<section id="s9" class="pantalla">
    <h2>Un jardÃ­n para ti ğŸŒ·</h2>
    <div class="card"><p id="fraseTulip" style="font-style:italic; min-height:50px;"></p></div>
    <div class="jardin">
        <div class="tulipan"><div class="flor" style="background:#FF99AC;"></div><div class="tallo"></div><div class="hoja"></div></div>
        <div class="tulipan"><div class="flor" style="background:#FFD166;"></div><div class="tallo"></div><div class="hoja"></div></div>
        <div class="tulipan"><div class="flor" style="background:#BDB2FF;"></div><div class="tallo"></div><div class="hoja"></div></div>
        <div class="tulipan"><div class="flor" style="background:#F28482;"></div><div class="tallo"></div><div class="hoja"></div></div>
    </div>
    <button class="btn" onclick="navegar('s10')">Continuar â¡ï¸</button>
</section>

<section id="s10" class="pantalla">
    <h2>Music Challenge ğŸ¤</h2>
    <div class="card">
        <p id="artS" style="font-weight:bold; color:var(--rosa-fuerte);"></p>
        <p id="letS" style="font-style:italic; font-size:1.1em;"></p>
    </div>
    <div id="optsS"></div>
</section>

<section id="s11" class="pantalla" style="background:#000; color:white;">
    <h2 style="color:var(--oro)">Â¡LO LOGRASTE MI NIÃ‘O! ğŸ‡</h2>
    <canvas id="cvFuegos"></canvas>
    <div class="dedicatoria-box">
        <p style="text-align:center; color:var(--oro); font-weight:bold; margin:0 0 10px 0;">ğŸ¶ Estas canciones me recuerdan a ti:</p>
        1. The Boy Is Mine - Ariana Grande<br>
        2. Lo Que Siento - Cuco<br>
        3. Te AmarÃ© - Silvio RodrÃ­guez<br>
        4. Obsesionado - Farruko (con Alexio La Bestia)<br>
        5. Die With A Smile - Lady Gaga y Bruno Mars
    </div>
    <button class="btn" onclick="navegar('s12')">Leer mi mensaje final ğŸ’Œ</button>
</section>

<section id="s12" class="pantalla">
    <div class="card" style="text-align:justify; background:#fffaf0; line-height:1.7; border:2px solid #d4a373; margin-top:5%;">
        <h3 style="color:var(--rosa-fuerte); text-align:center; font-size:1.4em;">Para mi niÃ±o...</h3>
        <p>QuizÃ¡ te demuestro muy poco y quizÃ¡ esto no sea nada o, si lo es, no sea suficiente. No es que no quiera expresar o mostrar todo lo que siento... Me haces feliz y quiero poder hacerte igual de feliz. Gracias por estar y por aguantarme. SÃ© que me pongo tonta y sigo mejorando por ti para ser y poder entregarte lo mejor. Â¡Muakkkk! â¤ï¸</p>
        <div style="text-align:center; font-size:40px; margin-top:20px;">ğŸ‘¨â€â¤ï¸â€ğŸ‘¨ğŸŒ·ğŸ¤´ğŸ»ğŸ€</div>
    </div>
    <button class="btn" onclick="location.reload()">Empezar de nuevo</button>
</section>

<script>
const ww = window.innerWidth, wh = window.innerHeight;

function navegar(id) {
    document.querySelectorAll('.pantalla').forEach(p => p.style.display = 'none');
    document.getElementById(id).style.display = 'block';
    if(id==='s2') initRelleno(); if(id==='s3') initPrincipito(); if(id==='s4') initCorazones();
    if(id==='s6') initTrivia(); if(id==='s7') initLaberinto(); if(id==='s8') initCielo();
    if(id==='s9') initTulipanes(); if(id==='s10') initCanciones(); if(id==='s11') initFuegos();
}

// LLUVIA DE PÃ‰TALOS
function lluvia() {
    const p = document.createElement('div'); p.className = 'petalo-caida';
    p.innerText = ['ğŸŒ¸','ğŸŒ·','ğŸ’–','ğŸŒ¹','âœ¨'][Math.floor(Math.random()*5)];
    p.style.left = Math.random() * 100 + 'vw';
    p.style.fontSize = (Math.random() * 20 + 10) + 'px';
    document.body.appendChild(p); setTimeout(()=>p.remove(), 3000);
}
setInterval(lluvia, 400);

// RELLENO
function initRelleno() {
    const c = document.getElementById('cvRelleno'); c.width = 300; c.height = 300;
    const ctx = c.getContext('2d'); let p = 0;
    function d() {
        ctx.clearRect(0,0,300,300); ctx.save(); ctx.translate(150,150); ctx.beginPath();
        for(let t=0;t<Math.PI*2;t+=0.01){ let x=10*16*Math.pow(Math.sin(t),3); let y=-10*(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t)); ctx.lineTo(x,y); }
        ctx.strokeStyle=ctx.fillStyle="#FFB7C5"; ctx.stroke(); ctx.clip(); ctx.fillRect(-150,150-(p*3),300,300); ctx.restore();
    }
    c.ontouchmove=(e)=>{ e.preventDefault(); p+=1.5; d(); if(p>=100) document.getElementById('btnR').style.display='block'; }; d();
}

// PRINCIPITO
let pIdx = 0;
const pF = [
    {q:"Lo esencial es invisible...", a:"a los ojos"},
    {q:"Fue el tiempo que pasaste con tu rosa...", a:"lo que la hizo importante"},
    {q:"Si vienes, por ejemplo, a las cuatro de la tarde...", a:"empezarÃ© a ser feliz desde las tres"}
];
function initPrincipito() {
    const f = pF[pIdx]; document.getElementById('txtP').innerText = `"${f.q}"`;
    let o = [f.a, "al alma", "al corazÃ³n"].sort(()=>Math.random()-0.5);
    document.getElementById('optsP').innerHTML = o.map(n => `<button class="btn" onclick="checkP('${n}')">${n}</button>`).join('');
}
window.checkP=(n)=>{ if(n===pF[pIdx].a){ pIdx++; if(pIdx<pF.length) initPrincipito(); else navegar('s4'); } };

// CORAZONES
function initCorazones() {
    const c = document.getElementById('cvCorazones'); c.width = 320; c.height = 320;
    const ctx = c.getContext('2d'); let pts = 0; let it = [];
    for(let i=0;i<25;i++) it.push({x:Math.random()*280, y:Math.random()*280, vx:(Math.random()-0.5)*6, vy:(Math.random()-0.5)*6, t:Math.random()>0.3?'ğŸ’—':'â¤ï¸', v:true});
    function loop() {
        ctx.clearRect(0,0,320,320); it.forEach(i=>{if(i.v){ctx.font="30px Arial"; ctx.fillText(i.t, i.x, i.y); i.x+=i.vx; i.y+=i.vy; if(i.x<0||i.x>290)i.vx*=-1; if(i.y<20||i.y>310)i.vy*=-1;}});
        if(pts<10) requestAnimationFrame(loop);
    }
    c.ontouchstart=(e)=>{ const r=c.getBoundingClientRect(); const tx=e.touches[0].clientX-r.left, ty=e.touches[0].clientY-r.top;
    it.forEach(i=>{ if(i.v && Math.hypot(i.x-tx, i.y-ty)<40){ i.v=false; if(i.t==='ğŸ’—')pts++; else pts=Math.max(0,pts-1); document.getElementById('puntos').innerText=`ğŸ’— Recolectados: ${pts}/10`; if(pts>=10)document.getElementById('btnC').style.display='block'; } }); }; loop();
}

// COLOR
window.checkColor=(c)=>{ if(c==='Azul') navegar('s6'); };

// TRIVIA
let tIdx = 0;
const tF = [
    {q:"Â¿De quÃ© color son las esmeraldas?", a:"Verde"},
    {q:"Â¿CuÃ¡l es el planeta mÃ¡s grande?", a:"JÃºpiter"},
    {q:"Â¿QuiÃ©n te ama mÃ¡s en todo el universo?", a:"Yo"}
];
function initTrivia() {
    const t = tF[tIdx]; document.getElementById('txtT').innerText = t.q;
    let o = [t.a, "TÃº", "Nadie"].sort(()=>Math.random()-0.5);
    document.getElementById('optsT').innerHTML = o.map(n => `<button class="btn" onclick="checkT('${n}')">${n}</button>`).join('');
}
window.checkT=(n)=>{ if(n===tF[tIdx].a){ tIdx++; if(tIdx<tF.length) initTrivia(); else navegar('s7'); } };

// LABERINTO
function initLaberinto() {
    const c = document.getElementById('cvLaberinto'); c.width=300; c.height=300;
    const ctx = c.getContext('2d'); let x=20, y=20;
    const muros = [{x:0,y:60,w:250,h:15}, {x:50,y:140,w:250,h:15}, {x:0,y:220,w:250,h:15}];
    function draw() { ctx.clearRect(0,0,300,300); ctx.fillStyle=varRosaFuerte; ctx.fillStyle="#D44D5C"; muros.forEach(m=>ctx.fillRect(m.x,m.y,m.w,m.h)); ctx.font="25px Arial"; ctx.fillText("ğŸ€", 260, 270); ctx.fillText("ğŸ‘¦ğŸ»", x, y); }
    c.ontouchmove=(e)=>{ e.preventDefault(); const r=c.getBoundingClientRect(); let nx=e.touches[0].clientX-r.left, ny=e.touches[0].clientY-r.top;
    if(!muros.some(m=>nx>m.x && nx<m.x+m.w && ny>m.y-15 && ny<m.y+m.h)){ x=nx; y=ny; } if(x>260 && y>250) navegar('s8'); draw(); }; draw();
}

// CIELO
function initCielo() {
    const c=document.getElementById('cvCielo'); c.width=300; c.height=350; const ctx=c.getContext('2d');
    let x=150, ch=0, blts=[], act=true;
    c.ontouchmove=(e)=>{e.preventDefault(); x=e.touches[0].clientX-c.getBoundingClientRect().left;};
    function loop() {
        if(!act) return; ctx.fillStyle="#001d3d"; ctx.fillRect(0,0,300,350);
        ctx.font="40px Arial"; ctx.fillText("â­", x-25, 330);
        if(Math.random()<0.12) blts.push({x:Math.random()*280, y:0});
        blts.forEach(b=>{ b.y+=7; ctx.fillText("âš¡", b.x, b.y); if(Math.hypot(b.x-x, b.y-330)<35){ch=0;blts=[];} });
        ch+=0.4; document.getElementById('statCielo').innerText=`Carga de Amor: ${Math.floor(ch)}%`;
        if(ch>=100){act=false; navegar('s9');} else requestAnimationFrame(loop);
    } loop();
}

// TULIPANES
function initTulipanes() {
    const f = ["Eres mi pensamiento favorito", "Gracias por cada sonrisa", "Te amo con todo mi corazÃ³n", "Eres mi niÃ±o precioso", "Mi vida es mejor contigo"];
    let i=0; setInterval(()=>{ document.getElementById('fraseTulip').innerText = f[i%f.length]; i++; }, 2500);
}

// CANCIONES
let sIdx = 0;
const sF = [
    {a:"Ariana Grande - 34+35", l:"Can you stay up all night?...", r:"til the daylight"},
    {a:"Cris MJ - Gata Only", l:"Mami no me digas que no...", r:"si yo sÃ©"},
    {a:"Bad Bunny - TitÃ­", l:"TitÃ­ me preguntÃ³ si tengo...", r:"muchas novias"},
    {a:"Michael Jackson - Billie Jean", l:"She says I am the one...", r:"but the kid is not my son"},
    {a:"ManÃ¡ - Labios Compartidos", l:"Amor mutante...", r:"amigos con derecho y libertad"}
];
function initCanciones() {
    const s = sF[sIdx]; document.getElementById('artS').innerText = s.a; document.getElementById('letS').innerText = s.l;
    let o = [s.r, "forever", "to me"].sort(()=>Math.random()-0.5);
    document.getElementById('optsS').innerHTML = o.map(n => `<button class="btn" onclick="checkS('${n}')">${n}</button>`).join('');
}
window.checkS=(n)=>{ if(n===sF[sIdx].r){ sIdx++; if(sIdx<sF.length) initCanciones(); else navegar('s11'); } };

// FUEGOS
function initFuegos() {
    const c=document.getElementById('cvFuegos'); c.width=300; c.height=250; const ctx=c.getContext('2d');
    let p = [];
    function loop() {
        ctx.fillStyle="rgba(0,0,0,0.2)"; ctx.fillRect(0,0,300,250);
        if(Math.random()<0.1) {
            let x=Math.random()*300, y=Math.random()*150, cl=`hsl(${Math.random()*360},100%,60%)`;
            for(let i=0;i<30;i++) p.push({x,y,vx:Math.random()*4-2, vy:Math.random()*4-2, l:50, cl});
        }
        p.forEach((it,i)=>{ it.x+=it.vx; it.y+=it.vy; it.vy+=0.04; it.l--; ctx.fillStyle=it.cl; ctx.fillRect(it.x,it.y,3,3); if(it.l<=0)p.splice(i,1); });
        requestAnimationFrame(loop);
    } loop();
}

// FONDO
const fcvs=document.getElementById('capa-magica'); const fctx=fcvs.getContext('2d'); fcvs.width=ww; fcvs.height=wh;
let fL=[]; for(let i=0;i<15;i++) fL.push({x:Math.random()*ww, y:Math.random()*wh, s:Math.random()*1.5+0.5, sz:Math.random()*15+10});
function animF() { fctx.clearRect(0,0,ww,wh); fctx.fillStyle="rgba(212,77,92,0.1)"; fL.forEach(h=>{ fctx.font=h.sz+"px Arial"; fctx.fillText("ğŸ’—", h.x, h.y); h.y+=h.s; if(h.y>wh)h.y=-20; }); requestAnimationFrame(animF); }
animF();
</script>
</body>
</html>
