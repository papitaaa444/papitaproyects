<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Para Mi Persona Favorita ğŸŒ¸</title>
    <style>
        :root {
            --rosa: #ff85a2; --rosa-fuerte: #ff4d6d; --magenta: #c9184a;
            --bg: linear-gradient(-45deg, #fff0f5, #ffe5ec, #ffc2d1, #ffb3c1);
        }
        * { box-sizing: border-box; touch-action: none; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; font-family: 'Georgia', serif; background: var(--bg); background-size: 400% 400%; animation: gradientBG 15s ease infinite; overflow: hidden; height: 100vh; }
        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        
        .pantalla { display: none; padding: 15px; text-align: center; height: 100vh; overflow-y: auto; scrollbar-width: none; }
        .card { background: rgba(255, 255, 255, 0.92); backdrop-filter: blur(15px); border-radius: 30px; padding: 25px; border: 2px solid white; box-shadow: 0 15px 35px rgba(219, 112, 147, 0.25); max-width: 400px; margin: 20px auto; animation: slideUp 0.6s ease; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        .btn { margin: 8px; padding: 14px 22px; border: none; border-radius: 50px; font-weight: bold; cursor: pointer; background: var(--rosa); color: white; transition: 0.3s; box-shadow: 0 5px 15px rgba(255, 133, 162, 0.4); }
        .btn:hover { transform: scale(1.05); background: var(--rosa-fuerte); }
        
        canvas { background: white; border-radius: 20px; border: 3px solid #ffc2d1; width: 100%; max-width: 350px; touch-action: none; }
        .dark { background: radial-gradient(circle at center, #000033 0%, #000000 100%) !important; color: white !important; }

        /* Estilo JardÃ­n de Tulipanes */
        .seccion-jardin { background: #f1fdf1; border: 4px solid #81c784; border-radius: 25px; padding: 20px; margin: 20px 0; }
        .frase-jardin { font-style: italic; color: #2e7d32; font-weight: bold; margin-bottom: 15px; }
        .tulip { font-size: 45px; display: inline-block; animation: swaying 3s ease-in-out infinite; }
        @keyframes swaying { 0%, 100% { transform: rotate(-10deg) scale(1); } 50% { transform: rotate(10deg) scale(1.1); } }

        /* Playlist */
        .playlist { list-style: none; padding: 0; text-align: left; }
        .song-item { background: rgba(255,255,255,0.15); margin: 8px 0; padding: 12px; border-radius: 15px; border-left: 5px solid var(--rosa); font-size: 0.9em; animation: fadeIn 1s ease forwards; }
    </style>
</head>
<body>

<section id="bienvenida" class="pantalla" style="display:block;">
    <div class="card" style="margin-top: 15vh;">
        <h1 style="color:var(--magenta)">Â¡Hola, Mi Persona Favorita! âœ¨</h1>
        <p>He diseÃ±ado este pequeÃ±o mundo para ti. Cada juego es una razÃ³n mÃ¡s para quererte.</p>
        <button class="btn" onclick="mostrar('juego1')">Entrar a mi corazÃ³n ğŸŒ¸</button>
    </div>
</section>

<section id="juego1" class="pantalla">
    <div class="card">
        <div id="ronda1">
            <h2>Dibuja algo lindo ğŸ¨</h2>
            <p>Deja volar tu imaginaciÃ³n aquÃ­ debajo</p>
            <canvas id="canvasDibujo" width="350" height="400"></canvas>
            <button class="btn" onclick="pasarRonda(1)">Listo â¡ï¸</button>
        </div>
        <div id="ronda2" style="display:none;">
            <h2>Llena mi corazÃ³n â¤ï¸</h2>
            <p>PÃ­ntalo con tu dedo hasta que brille</p>
            <canvas id="canvasFill" width="350" height="400"></canvas>
            <button id="btnCheckFill" class="btn" style="display:none; background:var(--magenta)" onclick="pasarRonda(2)">Â¡Ya quedÃ³ hermoso! â¡ï¸</button>
        </div>
        <div id="ronda3" style="display:none;">
            <h2>Atrapa SOLO los rosas ğŸ’—</h2>
            <p>Los azules y verdes restan amor. Â¡Consigue 10!</p>
            <p id="puntos" style="font-size: 1.2em; font-weight: bold; color: var(--magenta);">Puntos: 0/10</p>
            <canvas id="canvasCorazones" width="350" height="400"></canvas>
        </div>
    </div>
</section>

<section id="juegoLaberinto" class="pantalla">
    <div class="card">
        <h2>Laberinto del Destino ğŸ§­</h2>
        <p>Lleva el â¤ï¸ hasta la ğŸŒŸ sin tocar las paredes rosas.</p>
        <canvas id="canvasLab" width="350" height="380"></canvas>
        <br><button class="btn" onclick="iniciarLaberinto()">Reiniciar</button>
    </div>
</section>

<section id="juegoColor" class="pantalla">
    <div class="card">
        <h2>Â¿CuÃ¡l es el color de nuestro amor? ğŸ¨</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
            <button class="btn" style="background:#87CEEB" onclick="alert('FrÃ­o, frÃ­o...')">Celeste</button>
            <button class="btn" style="background:#98FB98" onclick="alert('Nop')">Verde</button>
            <button class="btn" style="background:#FFD700" onclick="alert('Casi...')">Dorado</button>
            <button class="btn" style="background:#E6E6FA; color:black" onclick="ganarColor()">Â¿Lavanda?</button>
        </div>
        <div id="secretoColor" style="display:none; margin-top:20px; border-top: 1px solid #eee; padding-top: 15px;">
            <p>Â¡El lavanda es tierno, pero nuestro color siempre serÃ¡ el:</p>
            <button class="btn" style="background:var(--rosa-fuerte)" onclick="mostrar('juegoPrincipito')">Â¡ROSA! ğŸŒ¸</button>
        </div>
    </div>
</section>

<section id="juegoPrincipito" class="pantalla dark">
    <div class="card" style="background:rgba(0,0,0,0.85); border-color: #444;">
        <h2 style="color:var(--rosa)">ğŸŒ¹ El Principito</h2>
        <p>"Fue el tiempo que pasaste con tu rosa lo que la hizo tan importante."</p>
        <p><i>"Lo esencial es invisible a los ojos..."</i></p>
        <hr style="border: 0.5px solid #333;">
        <p>Â¿QuÃ© es lo que nos hace Ãºnicos el uno para el otro?</p>
        <button class="btn" onclick="alert('No, eso es superficial')">Lo que los demÃ¡s piensan</button>
        <button class="btn" onclick="mostrar('juegoCielo')">Lo que solo el corazÃ³n puede ver â¤ï¸</button>
        <button class="btn" onclick="alert('Vuelve a leer la frase...')">El tiempo que perdemos</button>
    </div>
</section>

<section id="juegoCielo" class="pantalla dark">
    <div class="card" style="background:rgba(255,255,255,0.05)">
        <h2>âœ¨ Protege nuestro cielo</h2>
        <p>Mueve el â¤ï¸ para esquivar las nubes. Â¡No dejes que apaguen tu luz!</p>
        <p id="enText" style="color:var(--rosa); font-weight:bold;">Carga de Amor: 0%</p>
        <canvas id="canvasCielo" width="350" height="380"></canvas>
    </div>
</section>

<section id="juegoMusica" class="pantalla">
    <div class="card">
        <h2>ğŸ¤ Completa la letra</h2>
        <p style="font-size: 1.1em; color: var(--magenta);">"If the world was ending, I'd wanna be..."</p>
        <div style="display:flex; flex-direction:column; gap: 10px;">
            <button class="btn" onclick="mostrar('juegoArtista')">Next to you ğŸ‘©â€â¤ï¸â€ğŸ‘¨</button>
            <button class="btn" onclick="alert('Â¡Escucha la canciÃ³n de nuevo!')">Dancing alone</button>
            <button class="btn" onclick="alert('Nop')">Smiling for you</button>
        </div>
    </div>
</section>

<section id="juegoArtista" class="pantalla">
    <div class="card">
        <h2>ğŸ•µï¸ Â¿QuiÃ©nes son?</h2>
        <div id="a1">
            <p style="font-size:45px;">â˜€ï¸ ğŸŒŠ ğŸ•¶ï¸ ğŸ°</p>
            <input type="text" id="ans1" placeholder="Nombre del artista..." style="padding:12px; border-radius:15px; border:1px solid #ffc2d1; width:80%;">
            <br><button class="btn" onclick="checkA1()">Siguiente â¡ï¸</button>
        </div>
        <div id="a2" style="display:none;">
            <p style="font-size:45px;">ğŸ’ ğŸ’ ğŸ¤ ğŸ‘±ğŸ»â€â™€ï¸</p>
            <p>Pista: "The Boy Is Mine"</p>
            <input type="text" id="ans2" placeholder="Ella es..." style="padding:12px; border-radius:15px; border:1px solid #ffc2d1; width:80%;">
            <br><button class="btn" onclick="checkA2()">Ver Sorpresa Final â¡ï¸</button>
        </div>
    </div>
</section>

<section id="jardinTulipanes" class="pantalla">
    <div class="card seccion-jardin">
        <h2 style="color:#2e7d32">ğŸŒ· Tu JardÃ­n Especial</h2>
        <p class="frase-jardin">"Un jardÃ­n de amor infinito, creado solo para la flor mÃ¡s bella del mundo."</p>
        <div id="jardinContainer"></div>
        <button class="btn" style="background:#4caf50" onclick="mostrar('juegoFinal')">Continuar a la Fiesta ğŸ‰</button>
    </div>
</section>

<section id="juegoFinal" class="pantalla dark">
    <div class="card" style="background:rgba(255,255,255,0.08)">
        <h2 style="color:var(--rosa)">Â¡LO LOGRASTE, AMOR! ğŸ‰</h2>
        <p>Mira al cielo, esto es por ti:</p>
        <canvas id="canvasFuegos" width="350" height="250" style="background:transparent; border:none;"></canvas>
        <div class="playlist">
            <div class="song-item">ğŸµ 1. The Boy Is Mine - Ariana Grande</div>
            <div class="song-item">ğŸµ 2. Lo Que Siento - Cuco</div>
            <div class="song-item">ğŸµ 3. Te AmarÃ© - Silvio RodrÃ­guez</div>
            <div class="song-item">ğŸµ 4. Obsesionado - Farruko</div>
            <div class="song-item">ğŸµ 5. Die With A Smile - Lady Gaga</div>
        </div>
        <button class="btn" style="margin-top:20px" onclick="mostrar('carta')">Leer mi Carta ğŸ’Œ</button>
    </div>
</section>

<section id="carta" class="pantalla">
    <div class="card" style="background:#fffaf0; text-align: left; padding: 30px; border: 1px solid #f3e5ab;">
        <h2 style="text-align:center; color:var(--magenta)">Para Mi Amor â¤ï¸</h2>
        <p>QuizÃ¡ te demuestro muy poco y quizÃ¡ esto no sea nada, pero para mÃ­ lo es todo.</p>
        <p>Me haces feliz de una forma que no puedo explicar. Gracias por aguantarme, por estar ahÃ­ y por ser tÃº.</p>
        <p>Eres mi persona favorita en todo el universo.</p>
        <p style="text-align: right; font-weight: bold; color: var(--magenta); margin-top: 25px;">Te quiero muchÃ­simo. ğŸŒ¸</p>
        <button class="btn" style="width:100%" onclick="location.reload()">Reiniciar aventura ğŸ¤—</button>
    </div>
</section>

<script>
    function mostrar(id){
        document.querySelectorAll('.pantalla').forEach(p => p.style.display = 'none');
        document.getElementById(id).style.display = 'block';
        if(id === 'juegoLaberinto') iniciarLaberinto();
        if(id === 'juegoCielo') iniciarCielo();
        if(id === 'jardinTulipanes') crearTulipanes();
        if(id === 'juegoFinal') iniciarFuegos();
    }

    function getPos(e, c) {
        const r = c.getBoundingClientRect();
        const t = e.touches ? e.touches[0] : e;
        return { x: (t.clientX - r.left) * (c.width / r.width), y: (t.clientY - r.top) * (c.height / r.height) };
    }

    // --- DIBUJO ---
    const cvD = document.getElementById("canvasDibujo"), cxD = cvD.getContext("2d");
    let dib = false;
    cvD.addEventListener("touchstart", (e)=>{ e.preventDefault(); dib=true; cxD.beginPath(); const p=getPos(e,cvD); cxD.moveTo(p.x,p.y); });
    cvD.addEventListener("touchmove", (e)=>{ if(!dib) return; const p=getPos(e,cvD); cxD.lineTo(p.x,p.y); cxD.strokeStyle="#ff85a2"; cxD.lineWidth=5; cxD.stroke(); });
    cvD.addEventListener("touchend", ()=>dib=false);

    // --- RELLENO ---
    const cvF = document.getElementById("canvasFill"), cxF = cvF.getContext("2d");
    let movFill = 0;
    function iniciarRonda2() { cxF.fillStyle="#f0f0f0"; cxF.font="380px Arial"; cxF.textAlign="center"; cxF.textBaseline="middle"; cxF.fillText("â¤", 175, 200); }
    cvF.addEventListener("touchmove", (e)=>{ 
        e.preventDefault(); const p=getPos(e,cvF); cxF.globalCompositeOperation="source-atop"; cxF.fillStyle="#ff4d6d"; 
        cxF.beginPath(); cxF.arc(p.x,p.y,45,0,Math.PI*2); cxF.fill(); 
        movFill++; if(movFill > 40) document.getElementById("btnCheckFill").style.display="inline-block";
    });

    // --- CORAZONES ---
    const cvC = document.getElementById("canvasCorazones"), cxC = cvC.getContext("2d");
    let ptsC=0, lC=[];
    function spawnC() {
        if(ptsC >= 10 || document.getElementById('ronda3').style.display==='none') return;
        const colors = ["#ff85a2", "#ff85a2", "#4da3ff", "#98fb98"];
        lC.push({x: Math.random()*300+25, y: -50, col: colors[Math.floor(Math.random()*colors.length)]});
        setTimeout(spawnC, 600);
    }
    function loopC() {
        cxC.clearRect(0,0,350,400);
        lC.forEach((c,i)=>{
            c.y += 3.8; cxC.font="40px Arial"; 
            cxC.fillText(c.col==="#ff85a2"?"ğŸ’—":(c.col==="#4da3ff"?"ğŸ’™":"ğŸ’š"), c.x, c.y);
            if(c.y > 450) lC.splice(i,1);
        });
        if(document.getElementById('ronda3').style.display==='block') requestAnimationFrame(loopC);
    }
    cvC.addEventListener("touchstart", (e)=>{
        const p = getPos(e,cvC);
        lC.forEach((c,i)=>{
            if(Math.hypot(p.x-c.x, p.y-(c.y-25))<45) {
                if(c.col === "#ff85a2") ptsC++; 
                else { ptsC = Math.max(0, ptsC-2); }
                lC.splice(i,1); document.getElementById('puntos').innerText = `Puntos: ${ptsC}/10`;
                if(ptsC >= 10) mostrar('juegoLaberinto');
            }
        });
    });

    function pasarRonda(n) {
        if(n===1) { document.getElementById("ronda1").style.display="none"; document.getElementById("ronda2").style.display="block"; iniciarRonda2(); }
        if(n===2) { document.getElementById("ronda2").style.display="none"; document.getElementById("ronda3").style.display="block"; spawnC(); loopC(); }
    }

    // --- LABERINTO ---
    function iniciarLaberinto() {
        const cvL = document.getElementById("canvasLab"), cxL = cvL.getContext("2d");
        let pL = {x: 35, y: 35};
        function draw() {
            cxL.clearRect(0,0,350,380); cxL.fillStyle="#ff85a2";
            cxL.fillRect(0,80,260,25); cxL.fillRect(90,180,260,25); cxL.fillRect(0,280,260,25);
            cxL.font="35px Arial"; cxL.fillText("â¤ï¸", pL.x-15, pL.y+10); cxL.fillText("ğŸŒŸ", 310, 360);
        }
        cvL.addEventListener("touchmove", (e)=>{
            e.preventDefault(); const p = getPos(e,cvL);
            const d = cxL.getImageData(p.x, p.y, 1, 1).data;
            if(d[0] === 255 && d[1] === 133) { pL = {x:35, y:35}; }
            else pL = p;
            if(pL.x > 300 && pL.y > 330) mostrar('juegoColor');
            draw();
        });
        draw();
    }

    // --- CIELO ---
    function iniciarCielo() {
        const cvS = document.getElementById("canvasCielo"), cxS = cvS.getContext("2d");
        let en=0, pS={x:175, y:340}, obs=[];
        cvS.addEventListener("touchmove", (e)=> { e.preventDefault(); pS = getPos(e,cvS); });
        function loop() {
            cxS.clearRect(0,0,350,380); cxS.font="35px Arial"; cxS.fillText("â¤ï¸", pS.x-15, pS.y);
            if(Math.random()<0.1) obs.push({x:Math.random()*320, y:-30});
            obs.forEach((o,i)=>{
                o.y += 7.5; cxS.fillText("â˜ï¸", o.x, o.y);
                if(Math.hypot(pS.x-o.x, pS.y-o.y)<35) { en = Math.max(0, en-12); obs.splice(i,1); }
            });
            en += 0.4; document.getElementById("enText").innerText = `Carga de Amor: ${Math.floor(en)}%`;
            if(en >= 100) mostrar('juegoMusica');
            if(document.getElementById('juegoCielo').style.display === 'block') requestAnimationFrame(loop);
        }
        loop();
    }

    // --- TRIVIA ---
    function ganarColor() { document.getElementById("secretoColor").style.display="block"; }
    function checkA1() { if(document.getElementById("ans1").value.toLowerCase().includes("bad")) { document.getElementById("a1").style.display="none"; document.getElementById("a2").style.display="block"; } }
    function checkA2() { if(document.getElementById("ans2").value.toLowerCase().includes("ariana")) mostrar('jardinTulipanes'); }

    // --- JARDÃN ---
    function crearTulipanes() {
        const c = document.getElementById("jardinContainer"); c.innerHTML = "";
        for(let i=0; i<10; i++) {
            const s = document.createElement("span"); s.className = "tulip"; s.innerText = "ğŸŒ·";
            s.style.animationDelay = (Math.random()*2)+"s"; c.appendChild(s);
        }
    }

    // --- FUEGOS ---
    function iniciarFuegos() {
        const cvH = document.getElementById("canvasFuegos"), cxH = cvH.getContext("2d");
        let ps = [];
        setInterval(()=>{
            const color = `hsl(${Math.random()*360}, 100%, 60%)`;
            const ox = Math.random()*350, oy = Math.random()*100;
            for(let i=0; i<50; i++) ps.push({x:ox, y:oy, vx:(Math.random()-0.5)*12, vy:(Math.random()-0.5)*12, c:color, a:1});
        }, 1200);
        function loop() {
            cxH.clearRect(0,0,350,250);
            ps.forEach((p,i)=>{
                p.x+=p.vx; p.y+=p.vy; p.vy+=0.22; p.a-=0.012;
                cxH.globalAlpha = p.a; cxH.fillStyle = p.c; cxH.beginPath(); cxH.arc(p.x,p.y,2.5,0,Math.PI*2); cxH.fill();
                if(p.a<=0) ps.splice(i,1);
            });
            requestAnimationFrame(loop);
        }
        loop();
    }
</script>
</body>
</html>
